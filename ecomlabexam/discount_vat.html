<!DOCTYPE html>
<html>

<head>
    <title>Checkout</title>
    <style>

    </style>
</head>

<body>

    <div class="box">
        <h3>Products</h3>
        <div id="list"></div>

        <h3>Cart</h3>
        <div id="cart"></div>
        <p>Total: Rs. <span id="total">0</span></p>

        <label>Discount (%):</label>
        <input type="number" id="discount" placeholder="Enter discount %" />

        <button onclick="checkout()">Checkout</button>

        <div id="resultBox"></div>
    </div>

    <script>
        var products = [
            { name: "Bag", price: 1500 },
            { name: "Shoes", price: 2500 }
        ];

        var cart = [];
        var total = 0;
        const VAT_RATE = 0.13;

        function showProducts() {
            var html = "";
            for (var i = 0; i < products.length; i++) {
                html += "<div class='item'>" + products[i].name + " - Rs." + products[i].price +
                    " <button onclick='addCart(" + i + ")'>Add</button></div>";
            }
            document.getElementById("list").innerHTML = html;
        }

        function addCart(index) {
            cart.push(products[index]);
            total += products[index].price;
            showCart();
        }

        function showCart() {
            var html = "";
            for (var i = 0; i < cart.length; i++) {
                html += "<div class='item'>" + cart[i].name + " - Rs." + cart[i].price + "</div>";
            }
            document.getElementById("cart").innerHTML = html;
            document.getElementById("total").innerHTML = total;
        }

        function checkout() {
            var discountPercent = parseFloat(document.getElementById("discount").value) || 0;

            var discountAmount = (total * discountPercent) / 100;
            var priceAfterDiscount = total - discountAmount;
            var vatAmount = priceAfterDiscount * VAT_RATE;
            var finalAmount = priceAfterDiscount + vatAmount;

            // Display below
            var resultHTML = "<h4>Billing Summary</h4>";
            resultHTML += "<p>Total: Rs. " + total + "</p>";
            resultHTML += "<p>Discount (" + discountPercent + "%): -Rs. " + discountAmount.toFixed(2) + "</p>";
            resultHTML += "<p>Price After Discount: Rs. " + priceAfterDiscount.toFixed(2) + "</p>";
            resultHTML += "<p>VAT (13%): +Rs. " + vatAmount.toFixed(2) + "</p>";
            resultHTML += "<hr>";
            resultHTML += "<p><b>Final Payable Amount: Rs. " + finalAmount.toFixed(2) + "</b></p>";

            document.getElementById("resultBox").innerHTML = resultHTML;
            document.getElementById("resultBox").style.display = "block";


        }

        showProducts();
    </script>
</body>

</html>